{"ast":null,"code":"var _jsxFileName = \"/home/felipe/Projetos/sd-017-project-trybetunes/src/pages/Search.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport albumAPI from '../services/albumAPI';\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.handleInput = _ref => {\n      let {\n        target\n      } = _ref;\n\n      if (target.value.length >= 2) {\n        this.setState({\n          disabled: false\n        });\n      }\n\n      this.setState({\n        [target.name]: target.value\n      });\n    };\n\n    this.handleClick = async () => {\n      this.setState({\n        hidden: true,\n        loading: true\n      });\n      const {\n        value\n      } = this.state;\n      const album = await albumAPI(value);\n      this.setState({\n        album,\n        artistname: false,\n        artist: value,\n        loading: false,\n        value: ''\n      });\n      if (album.length === 0) this.setState({\n        sucess: false\n      });\n    };\n\n    this.state = {\n      sucess: true,\n      loading: false,\n      hidden: false,\n      disabled: true,\n      artistname: true,\n      artist: '',\n      value: '',\n      album: []\n    };\n  }\n\n  render() {\n    const {\n      disabled,\n      value,\n      hidden,\n      loading,\n      artist,\n      artistname,\n      sucess,\n      album\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"search-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          hidden: hidden,\n          id: \"input-search\",\n          name: \"value\",\n          type: \"text\",\n          placeholder: \"Nome do Artista\",\n          onChange: this.handleInput,\n          value: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          hidden: hidden,\n          type: \"button\",\n          id: \"button-search\",\n          disabled: disabled,\n          onClick: this.handleClick,\n          children: \"Pesquisar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), sucess ? /*#__PURE__*/_jsxDEV(\"p\", {\n        hidden: artistname,\n        children: [\"Resultado de \\xE1lbuns de:\", ' ', artist]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Nenhum \\xE1lbum foi encontrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), sucess ? /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"result\",\n        children: /*#__PURE__*/_jsxDEV(\"section\", {\n          children: album.map(e => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div-album\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/album/${e.collectionId}`,\n              \"data-testid\": `link-to-album-${e.collectionId}`,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: e.artworkUrl100,\n                alt: e.collectionName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: e.collectionName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: e.artistName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 21\n            }, this)]\n          }, e.collectionId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this) : null]\n    }, void 0, true);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/home/felipe/Projetos/sd-017-project-trybetunes/src/pages/Search.js"],"names":["React","Link","Header","albumAPI","Loading","Search","Component","constructor","handleInput","target","value","length","setState","disabled","name","handleClick","hidden","loading","state","album","artistname","artist","sucess","render","map","e","collectionId","artworkUrl100","collectionName","artistName"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport albumAPI from '../services/albumAPI';\nimport Loading from '../components/Loading';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      sucess: true,\n      loading: false,\n      hidden: false,\n      disabled: true,\n      artistname: true,\n      artist: '',\n      value: '',\n      album: [],\n    };\n  }\n\n  handleInput = ({ target }) => {\n    if (target.value.length >= 2) {\n      this.setState({\n        disabled: false,\n      });\n    }\n    this.setState({\n      [target.name]: target.value,\n    });\n  }\n\n  handleClick = async () => {\n    this.setState({\n      hidden: true,\n      loading: true,\n    });\n\n    const { value } = this.state;\n    const album = await albumAPI(value);\n    this.setState({\n      album,\n      artistname: false,\n      artist: value,\n      loading: false,\n      value: '',\n    });\n    if (album.length === 0) this.setState({ sucess: false });\n  }\n\n  render() {\n    const {\n      disabled,\n      value,\n      hidden,\n      loading,\n      artist,\n      artistname,\n      sucess,\n      album,\n    } = this.state;\n    return (\n      <>\n        <Header />\n        {loading ? <Loading />\n          : (\n            <form id=\"search-form\">\n              <input\n                hidden={ hidden }\n                id=\"input-search\"\n                name=\"value\"\n                type=\"text\"\n                placeholder=\"Nome do Artista\"\n                onChange={ this.handleInput }\n                value={ value }\n              />\n              <button\n                hidden={ hidden }\n                type=\"button\"\n                id=\"button-search\"\n                disabled={ disabled }\n                onClick={ this.handleClick }\n              >\n                Pesquisar\n              </button>\n            </form>\n          )}\n        {sucess\n          ? (\n            <p hidden={ artistname }>\n              Resultado de álbuns de:\n              {' '}\n              { artist }\n            </p>\n          ) : (\n            <p>Nenhum álbum foi encontrado</p>\n          )}\n        {sucess\n          ? (\n            <div id=\"result\">\n              <section>\n                {album.map((e) => (\n                  <div className=\"div-album\" key={ e.collectionId }>\n                    <Link\n                      to={ `/album/${e.collectionId}` }\n                      data-testid={ `link-to-album-${e.collectionId}` }\n                    >\n                      <img src={ e.artworkUrl100 } alt={ e.collectionName } />\n                    </Link>\n                    <h2>{ e.collectionName }</h2>\n                    <p>{ e.artistName }</p>\n                  </div>\n                ))}\n                </section>\n            </div>\n          ) : null}\n      </>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}