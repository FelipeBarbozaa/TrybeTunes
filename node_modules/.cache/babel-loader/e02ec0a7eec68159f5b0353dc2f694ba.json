{"ast":null,"code":"var _jsxFileName = \"/home/felipe/Projetos/sd-017-project-trybetunes/src/pages/Search.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport albumAPI from '../services/albumAPI';\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.handleInput = _ref => {\n      let {\n        target\n      } = _ref;\n\n      if (target.value.length >= 2) {\n        this.setState({\n          disabled: false\n        });\n      }\n\n      this.setState({\n        [target.name]: target.value\n      });\n    };\n\n    this.handleClick = async () => {\n      this.setState({\n        hidden: true,\n        loading: true\n      });\n      const {\n        value\n      } = this.state;\n      const album = await albumAPI(value);\n      this.setState({\n        album,\n        artistname: false,\n        artist: value,\n        loading: false,\n        value: ''\n      });\n      if (album.length === 0) this.setState({\n        sucess: false\n      });\n    };\n\n    this.state = {\n      sucess: true,\n      loading: false,\n      hidden: false,\n      disabled: true,\n      artistname: true,\n      artist: '',\n      value: '',\n      album: []\n    };\n  }\n\n  render() {\n    const {\n      disabled,\n      value,\n      hidden,\n      loading,\n      artist,\n      artistname,\n      sucess,\n      album\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"search-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          hidden: hidden,\n          id: \"input-search\",\n          name: \"value\",\n          type: \"text\",\n          placeholder: \"Nome do Artista\",\n          onChange: this.handleInput,\n          value: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          hidden: hidden,\n          type: \"button\",\n          id: \"button-search\",\n          disabled: disabled,\n          onClick: this.handleClick,\n          children: \"Pesquisar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), sucess ? /*#__PURE__*/_jsxDEV(\"p\", {\n        hidden: artistname,\n        children: [\"Resultado de \\xE1lbuns de:\", ' ', artist]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Nenhum \\xE1lbum foi encontrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), sucess ? album.map(e => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"div-album\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/album/${album.collectionId}`,\n          \"data-testid\": `link-to-album-${album.collectionId}`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: album.artworkUrl100,\n            alt: album.collectionName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: album.collectionName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: album.artistName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this)]\n      }, album.collectionId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }, this)) : null]\n    }, void 0, true);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/home/felipe/Projetos/sd-017-project-trybetunes/src/pages/Search.js"],"names":["React","Link","Header","albumAPI","Loading","Search","Component","constructor","handleInput","target","value","length","setState","disabled","name","handleClick","hidden","loading","state","album","artistname","artist","sucess","render","map","e","collectionId","artworkUrl100","collectionName","artistName"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport albumAPI from '../services/albumAPI';\nimport Loading from '../components/Loading';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      sucess: true,\n      loading: false,\n      hidden: false,\n      disabled: true,\n      artistname: true,\n      artist: '',\n      value: '',\n      album: [],\n    };\n  }\n\n  handleInput = ({ target }) => {\n    if (target.value.length >= 2) {\n      this.setState({\n        disabled: false,\n      });\n    }\n    this.setState({\n      [target.name]: target.value,\n    });\n  }\n\n  handleClick = async () => {\n    this.setState({\n      hidden: true,\n      loading: true,\n    });\n\n    const { value } = this.state;\n    const album = await albumAPI(value);\n    this.setState({\n      album,\n      artistname: false,\n      artist: value,\n      loading: false,\n      value: '',\n    });\n    if (album.length === 0) this.setState({ sucess: false });\n  }\n\n  render() {\n    const {\n      disabled,\n      value,\n      hidden,\n      loading,\n      artist,\n      artistname,\n      sucess,\n      album,\n    } = this.state;\n    return (\n      <>\n        <Header />\n        {loading ? <Loading />\n          : (\n            <form id=\"search-form\">\n              <input\n                hidden={ hidden }\n                id=\"input-search\"\n                name=\"value\"\n                type=\"text\"\n                placeholder=\"Nome do Artista\"\n                onChange={ this.handleInput }\n                value={ value }\n              />\n              <button\n                hidden={ hidden }\n                type=\"button\"\n                id=\"button-search\"\n                disabled={ disabled }\n                onClick={ this.handleClick }\n              >\n                Pesquisar\n              </button>\n            </form>\n          )}\n        {sucess\n          ? (\n            <p hidden={ artistname }>\n              Resultado de álbuns de:\n              {' '}\n              { artist }\n            </p>\n          ) : (\n            <p>Nenhum álbum foi encontrado</p>\n          )}\n        {sucess\n          ? (\n            album.map((e) => (\n              <div className=\"div-album\" key={ album.collectionId }>\n                <Link\n                  to={ `/album/${album.collectionId}` }\n                  data-testid={ `link-to-album-${album.collectionId}` }\n                >\n                  <img src={ album.artworkUrl100 } alt={ album.collectionName } />\n                </Link>\n                <h2>{ album.collectionName }</h2>\n                <p>{ album.artistName }</p>\n            </div>\n            ))\n          ) : null}\n      </>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}